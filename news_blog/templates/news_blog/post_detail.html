{% extends 'news_blog/base.html' %}
{% load cloudinary %}

{% block content %}
    <h1>News Article View 2</h1>
   
    <p>Here you can read about the article you have opened</p>
   
    <p>This is a place to share and read stories from other people around the world!</p>
   
    <h3>{{ object.title }}</h3>
    
    {% if object.image %}
       <!-- <img src="{{ object.image.url }}" width=300px height=300px object-fit=cover alt="Post Image"> --> 
        <img src="{{ object.image.url }}"  alt="Post Image">
    {% endif %}
   
    <a class="mr-2">By: {{ object.author }}</a>
   
    <small class="text-muted">{{ object.date_posted}}</small>
   


    <p>{{ object.content }}</p>
   
    <div>
        <p>Likes: {{ object.likes.count }}</p>
        {% if user.is_authenticated %}
            {% if user in object.likes.all %}
                <form  action="{% url 'post_unlike' object.id %}" method="POST">
                    {% csrf_token %}
                    <button type="submit" class="btn btn-outline-secondary">Unlike</button>
                </form>
            {% else %}
                <form  action="{% url 'post_like' object.id %}" method="POST">
                    {% csrf_token %}
                    <button type="submit" class="btn btn-outline-primary">Like</button>
                </form>
            {% endif %}
        {% endif %}
    </div>

   


   

    {% if object.author == user %}
   
        <a class="btn btn-outline-success" href="{% url 'post_update' object.id %}">Update</a>
    
        <a class="btn btn-outline-danger" href="{% url 'post_delete' object.id %}">Delete</a>
    {% endif %}
    
{% endblock content %}